# steps:
#   - name: 'gcr.io/cloud-builders/docker'
#     args: ['build', '-t', 'gcr.io/$PROJECT_ID/vocabulary-app:$BUILD_ID', '.']
#   - name: 'gcr.io/cloud-builders/docker'
#     args: ['push', 'gcr.io/$PROJECT_ID/vocabulary-app:$BUILD_ID']
#   - name: 'gcr.io/google.com/cloudsdktool/cloud-sdk'
#     entrypoint: gcloud
#     args:
#     - 'run'
#     - 'deploy'
#     - 'vocabulary-app'
#     - '--image'
#     - 'gcr.io/$PROJECT_ID/vocabulary-app:$BUILD_ID'
#     - '--region'
#     - 'europe-west2'
#     - '--platform'
#     - 'managed'
#     - '--allow-unauthenticated'
#     - '--cpu-boost'
#     - '--timeout=300s'
#     - '--min-instances=0'
#     - '--update-secrets=GEMINI_API_KEY=gemini-api-key:latest'
# images:
#   - 'gcr.io/$PROJECT_ID/vocabulary-app:$BUILD_ID'
# timeout: '1200s'
